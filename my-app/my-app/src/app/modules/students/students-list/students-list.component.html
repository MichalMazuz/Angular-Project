<div class="student-list-component">
    <h1 class="list-header">Student List</h1>
    
    <div *ngIf="successMessage" class="alert alert-success" role="alert">{{ successMessage }}</div>
    
    <div class="search-container">
        <input type="text" [(ngModel)]="searchName" (input)="onSearchNameChange(searchName)" placeholder="Search by name">
    </div>
    
    <div class="form-check">
        <input type="checkbox" #checkb (click)="getActiveStudents(checkb.checked)"> Show active students
    </div>
    
    <ul class="list-group">
        <li *ngFor="let student of students" class="list-group-item"
            [ngClass]="{'active': selectesdStudent && student.id == selectesdStudent.id}"
            [class.list-group-item-danger]="student.avg && student.avg < 90"
            [class.list-group-item-success]="!student.status">
            
            <div class="row">
                <div class="col-3">
                    {{student.firstN}} {{student.lastN}}: {{student.avg}} (missing: {{allDaysAbsance(student.id)}} days)
                </div>
                <div class="col-2">
                    <button class="btn btn-outline-danger" (click)="deleteStudent(student.id)">Delete student</button>
                </div>
                <div class="col-2">
                    <button class="btn btn-outline-warning" (click)="updateStudent(student)">Update student</button>
                </div>
                <div class="col-2">
                    <button class="btn btn-outline-info" (click)="showPanel(student)">Show Details</button>
                </div>
            </div>
        </li>
    </ul>
    
    <!-- Uncomment the following line if app-student-details component is ready to use -->
    <!-- <app-student-details [student]="selectesdStudent" [from1]="from" (onSaveStudent)="saveStudentToList($event)"></app-student-details> -->
    
    <div class="button-container">
        <button class="btn btn-outline-primary" (click)="addStudent()">Add student</button>
    </div>
</div>
